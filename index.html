<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>CLAMR by losalamos</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>CLAMR</h1>
        <h2>Cell-Based Adaptive Mesh Refinement</h2>
        <a href="https://github.com/losalamos/CLAMR" class="button"><small>View project on</small> GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <p>The CLAMR code is a cell-based adaptive mesh refinement (AMR) mini-app developed
as a testbed for hybrid algorithm development using MPI and OpenCL GPU code. </p>

<p>The CLAMR code is open-source under its LANL copyright
/*</p>

<ul>
<li> Copyright (c) 2011-2012, Los Alamos National Security, LLC.</li>
<li> All rights Reserved.
*</li>
<li> See LICENSE file for full copyright 
*/</li>
</ul><p>Contributions to CLAMR are welcomed as long as they do not substantially change
the nature of the code.</p>

<p>To build the CLAMR executables. CLAMR now uses cmake for its builds</p>

<p>// In-tree build</p>

<pre><code>cmake .
</code></pre>

<p>// out-of-tree build</p>

<pre><code>cmake &lt;path-to-source&gt;
</code></pre>

<p>// Optimized build (part optimized RelWithDebInfo is default)</p>

<pre><code>cmake -DCMAKE_BUILD_TYPE=release .
</code></pre>

<p>// Graphics options (OpenGL is the default)</p>

<pre><code>cmake -DGRAPHICS_TYPE=[None|OpenGL|MPE] &lt;path-to-source&gt;
</code></pre>

<p>There are two real-time graphics packages. The default is OpenGL. An alternative
real-time graphics package uses MPE. To use this package, configure with 
"cmake -DGRAPHICS_TYPE=MPE". The OpenGL option is automatically turned off when
selecting MPE. MPE is part of the MPICH package from Argonne National Laboratory.
It usually is not on a system and will need to be installed. A setup script and
version 1.9.1 of the MPE package are available in the download directory.</p>

<p>Build the executables:</p>

<pre><code>make or make VERBOSE=1
</code></pre>

<p>Nine executables are currently built. The first six are "standalone" versions which
run one implementation of the routines</p>

<ul>
<li>clamr: Calls the MPI/GPU versions of each call.</li>
<li>clamr_gpuonly: Calls the GPU versions of each call.</li>
<li>clamr_cpuonly: Calls the CPU versions of each call.</li>
<li>clamr_mpionly: Calls the MPI versions of each call.</li>
<li>clamr_openmponly: Compiles with the OpemMP compiler flags.</li>
<li>clamr_mpiopenmponly: Compiles with both MPI and OpenMP.</li>
</ul><p>Check versions. These versions run multiple implementations and check correctness of
the implementations</p>

<ul>
<li>clamr_gpucheck: Calls the GPU and CPU versions of each call and checks the results against each other</li>
<li>clamr_mpicheck: Calls the CPU and MPI/CPU versions of each call and checks the results against each other</li>
<li>clamr_checkall: Calls the GPU, CPU, MPI and GPU/MPI versions of each call and checks the results against each other.</li>
</ul><p>Currently the executables run only on NVIDIA GPUs. Fixing the kernels to run on
ATI GPUs and MIC is of great interest</p>

<p>The numerical algorithm still does not handle "dry" conditions properly and will
crash if parts of the simulation reach a zero height</p>

<p>Many other limitations exist</p>

<p>Current performance shows about a 25x speedup on the GPU versus the CPU using NVIDIA
Tesla 2090s and Intel CPUs</p>

<p>See the PAPERS file for a list of publications related to the CLAMR code (Papers.bib for 
bibtex format)</p>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/losalamos/CLAMR/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/losalamos/CLAMR/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/losalamos/CLAMR"></a> is maintained by <a href="https://github.com/losalamos">losalamos</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>
